# spring-security-exam
Примеры проблем с безопасностью

1)CSRF: Например, злоумышленник может создать вредоносную страницу, которая отправляет запросы к веб-приложению от имени жертвы, чтобы изменить ее данные или выполнить другие действия без ее согласия. Например, если жертва является пользователем онлайн банка, злоумышленник может создать страницу, которая отправляет запросы на перевод денег со счета жертвы на счет злоумышленника.

2)XSS: Например, злоумышленник может вставить вредоносный скрипт в форму входа на веб-сайт, который будет копировать введенные пользователем данные (логин/пароль) и отправлять их на сервер злоумышленника. В результате злоумышленник может получить доступ к учетной записи пользователя и выполнить несанкционированные действия.

3)SQL-инъекция: Например, если в веб-приложении есть форма поиска, где пользователь вводит ключевые слова для поиска, злоумышленник может ввести в поле ввода SQL-код, который изменит содержимое базы данных или выведет конфиденциальную информацию. Например, злоумышленник может ввести в поле ввода следующее значение: "'; DROP TABLE users; --", что приведет к удалению таблицы пользователей из базы данны

# Spring Security

Spring Security - это мощный фреймворк для обеспечения безопасности в приложениях на платформе Spring. Spring Security основан на фильтрах Servlet API и позволяет настроить различные аспекты безопасности в приложении, такие как аутентификация, авторизация, защита URL-адресов, управление сессиями и многое другое.

Spring Security состоит из множества компонентов, которые могут быть настроены и наиболее часто используемые компоненты включают:

### AuthenticationManager
AuthenticationManager - это основной компонент Spring Security, который обрабатывает процесс аутентификации. Он получает запрос на аутентификацию и проверяет учетные данные, чтобы убедиться, что они корректны. AuthenticationManager может быть настроен с использованием различных методов аутентификации, таких как база данных, LDAP, память и т.д.

### UserDetails
UserDetails - это интерфейс, который представляет учетные данные пользователя. Он содержит информацию о имени пользователя, пароле, ролях пользователя и других деталях. UserDetails используется AuthenticationManager для проверки учетных данных пользователя.

### UserDetailsService
UserDetailsService - это компонент, который получает учетные данные пользователя из базы данных или другого источника данных. Он используется AuthenticationManager для получения учетных данных пользователя.

### AuthenticationProvider
AuthenticationProvider - это компонент, который обрабатывает процесс аутентификации и проверяет учетные данные пользователя. Он использует UserDetails и UserDetailsService для проверки учетных данных.

### SecurityContext
SecurityContext - это компонент, который содержит информацию об аутентифицированном пользователе и его сессии. SecurityContext доступен во всех частях приложения и может использоваться для проверки ролей пользователя и других аспектов безопасности.

# Пошагоый процесс аутентифкации пользователя

Процесс авторизации в Spring Security состоит из нескольких шагов. Давайте рассмотрим их более подробно:

1)Пользователь отправляет запрос на страницу, защищенную Spring Security.

2)Spring Security перенаправляет пользователя на страницу входа или отображает диалоговое окно аутентификации, если пользователь еще не аутентифицирован.

3)Пользователь вводит свои учетные данные.

4)Spring Security получает учетные данные и передает их AuthenticationManager.

5)AuthenticationManager получает учетные данные и ищет UserDetails пользователя.

6)Если UserDetails найден, AuthenticationManager проверяет, что предоставленный пользовательский пароль совпадает с хешем пароля, хранящимся в UserDetails. Если проверка прошла успешно, AuthenticationManager создает объект Authentication, который представляет успешно аутентифицированного пользователя.

7)AuthenticationManager передает объект Authentication в SecurityContextHolder, который хранит текущий контекст безопасности в потоке выполнения.

8)Пользователь получает доступ к запрошенной странице или ресурсу, если у него есть соответствующие права доступа.

### Вот некоторые из основных компонентов, которые участвуют в процессе авторизации:
1)AuthenticationManager - осуществляет проверку учетных данных пользователя.

2)UserDetails - представляет учетные данные пользователя, включая имя пользователя, пароль и роли.

3)Authentication - представляет успешно аутентифицированного пользователя.

4)SecurityContextHolder - хранит текущий контекст безопасности в потоке выполнения.

Конечно, процесс авторизации в Spring Security может быть настроен и расширен в зависимости от конкретных потребностей приложения. Однако эти шаги представляют общий процесс, который происходит при авторизации пользователя в Spring Security.